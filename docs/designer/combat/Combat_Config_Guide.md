# üõ†Ô∏è Combat Config Guide (–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ì–µ–π–º–¥–∏–∑–∞–π–Ω–µ—Ä–∞)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–æ–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É: —Å–æ–∑–¥–∞–≤–∞—Ç—å –§–∏–Ω—Ç—ã, –¢—Ä–∏–≥–≥–µ—Ä—ã, –≠—Ñ—Ñ–µ–∫—Ç—ã –∏ –û—Ä—É–∂–∏–µ.

---

## üß† 1. –§–∏–ª–æ—Å–æ—Ñ–∏—è –°–∏—Å—Ç–µ–º—ã

–ë–æ–π —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ **–ü–∞–π–ø–ª–∞–π–Ω–µ** (Pipeline) ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–æ–≤ (–¢–æ—á–Ω–æ—Å—Ç—å -> –ó–∞—â–∏—Ç–∞ -> –£—Ä–æ–Ω).
–ú—ã —É–ø—Ä–∞–≤–ª—è–µ–º —ç—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º —á–µ—Ä–µ–∑ **–§–ª–∞–≥–∏** –∏ **–¢—Ä–∏–≥–≥–µ—Ä—ã**.

*   **–§–ª–∞–≥ (Flag):** –†—ã—á–∞–≥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. (–ü—Ä–∏–º–µ—Ä: `force.crit` ‚Äî "–í—Å–µ–≥–¥–∞ –∫—Ä–∏—Ç").
*   **–¢—Ä–∏–≥–≥–µ—Ä (Trigger):** –ü—Ä–∞–≤–∏–ª–æ "–ï—Å–ª–∏ X, —Ç–æ –≤–∫–ª—é—á–∏ –§–ª–∞–≥". (–ü—Ä–∏–º–µ—Ä: "–ï—Å–ª–∏ –ö—Ä–∏—Ç, —Ç–æ –≤–∫–ª—é—á–∏ –ò–≥–Ω–æ—Ä –ë—Ä–æ–Ω–∏").
*   **–ú—É—Ç–∞—Ü–∏—è (Mutation):** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∏—Å–ª–∞. (–ü—Ä–∏–º–µ—Ä: "–£—Ä–æ–Ω +50%").

---

## üìÖ 2. –°–æ–±—ã—Ç–∏—è (Events)

–í —ç—Ç–∏ –º–æ–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¢—Ä–∏–≥–≥–µ—Ä—ã:

| –°–æ–±—ã—Ç–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| :--- | :--- | :--- |
| **ON_ACCURACY_CHECK** | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ (–¥–æ –±—Ä–æ—Å–∫–∞) | True Strike, –ò–≥–Ω–æ—Ä –ë–ª–æ–∫–∞ (–°—Ç–∏–ª—å 2H) |
| **ON_MISS** | –ü—Ä–æ–º–∞—Ö | Rage on Miss (–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —è—Ä–æ—Å—Ç–∏) |
| **ON_CRIT** | –£—Å–ø–µ—à–Ω—ã–π –∫—Ä–∏—Ç | Bleed on Crit, Stun on Crit |
| **ON_DODGE** | –í—Ä–∞–≥ —É–∫–ª–æ–Ω–∏–ª—Å—è | Counter on Dodge (–ö–æ–Ω—Ç—Ä–∞—Ç–∞–∫–∞) |
| **ON_PARRY** | –í—Ä–∞–≥ –ø–∞—Ä–∏—Ä–æ–≤–∞–ª | Disarm on Parry (–û–±–µ–∑–æ—Ä—É–∂–∏–≤–∞–Ω–∏–µ) |
| **ON_BLOCK** | –í—Ä–∞–≥ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª | Shield Reflect (–û—Ç—Ä–∞–∂–µ–Ω–∏–µ), Bash on Block |
| **ON_CHECK_CONTROL** | –ö–æ–Ω–µ—Ü —Ö–æ–¥–∞ (–µ—Å–ª–∏ –ø–æ–ø–∞–ª) | Stun on Hit, Knockdown |

---

## üö© 3. –î–æ—Å—Ç—É–ø–Ω—ã–µ –§–ª–∞–≥–∏ (Flags)

–≠—Ç–∏ –∫–ª—é—á–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `mutations` (–≤ –§–∏–Ω—Ç–∞—Ö –∏ –¢—Ä–∏–≥–≥–µ—Ä–∞—Ö).

### üîπ Force (–ü—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ)
*   `force.hit`: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ (–ø—Ä–æ–ø—É—Å–∫ Accuracy).
*   `force.crit`: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—Ä–∏—Ç.
*   `force.hit_evasion`: –ó–∞–ø—Ä–µ—Ç —É–∫–ª–æ–Ω–µ–Ω–∏—è (–≤—Ä–∞–≥ –Ω–µ –º–æ–∂–µ—Ç —É–≤–µ—Ä–Ω—É—Ç—å—Å—è).
*   `force.miss`: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–∞—Ö.

### üîπ Restriction (–ó–∞–ø—Ä–µ—Ç—ã)
*   `restriction.cannot_crit`: –ó–∞–ø—Ä–µ—Ç –∫—Ä–∏—Ç–∞.
*   `restriction.ignore_block`: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —â–∏—Ç–∞ (Block = 0).
*   `restriction.ignore_parry`: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

### üîπ Formula (–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª)
*   `formula.can_pierce`: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ (Armor = 0).
*   `formula.crit_damage_boost`: –í–∫–ª—é—á–∏—Ç—å –±–æ–Ω—É—Å —É—Ä–æ–Ω–∞ –∫—Ä–∏—Ç–∞ (x1.5).
*   `formula.evasion_halved`: –®–∞–Ω—Å —É–≤–æ—Ä–æ—Ç–∞ –≤—Ä–∞–≥–∞ / 2.
*   `formula.parry_halved`: –®–∞–Ω—Å –ø–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–∞–≥–∞ / 2.
*   `formula.block_halved`: –®–∞–Ω—Å –±–ª–æ–∫–∞ –≤—Ä–∞–≥–∞ / 2.

### üîπ State (–°–æ—Å—Ç–æ—è–Ω–∏–µ)
*   `state.check_counter`: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–∏.
*   `state.partial_absorb_reflect`: –í–∫–ª—é—á–∏—Ç—å –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ —â–∏—Ç–æ–º.

### üîπ Chain Events (–¶–µ–ø–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏)
*   `chain_events.trigger_offhand_attack`: –î–æ–ø. –∞—Ç–∞–∫–∞ –≤—Ç–æ—Ä–æ–π —Ä—É–∫–æ–π.

---

## üî¢ 4. –ú—É—Ç–∞—Ü–∏–∏ –ß–∏—Å–µ–ª (Raw Mutations)

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –§–∏–Ω—Ç–∞—Ö (`raw_mutations`) –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–æ–≤.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: `"+10"`, `"-20%"`, `"*1.5"`.

*   `accuracy_mult`: –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ç–æ—á–Ω–æ—Å—Ç–∏.
*   `physical_damage_mult`: –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ñ–∏–∑. —É—Ä–æ–Ω–∞.
*   `crit_chance`: –®–∞–Ω—Å –∫—Ä–∏—Ç–∞.
*   `dodge_chance`: –®–∞–Ω—Å —É–≤–æ—Ä–æ—Ç–∞.

---

## üß™ 5. –≠—Ñ—Ñ–µ–∫—Ç—ã (Effects)

–ö–æ–º–∞–Ω–¥–∞ `add_effect` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¢—Ä–∏–≥–≥–µ—Ä–∞—Ö –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤.

```python
"add_effect": {
    "id": "bleed",          # ID —ç—Ñ—Ñ–µ–∫—Ç–∞
    "params": {             # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
        "duration": 2,
        "power": 30
    }
}
```

---

## üç≥ 6. –ü—Ä–∏–º–µ—Ä—ã (Cookbook)

### üó°Ô∏è "–í–µ—Ä–Ω—ã–π –£–¥–∞—Ä" (True Strike)
*   **–¶–µ–ª—å:** –ù–µ–ª—å–∑—è —É–≤–µ—Ä–Ω—É—Ç—å—Å—è, –Ω–æ —É—Ä–æ–Ω —Å–Ω–∏–∂–µ–Ω.
*   **Config:**
    ```json
    {
      "triggers": ["accuracy.true_strike"],
      "raw_mutations": {"physical_damage_mult": "-20%"}
    }
    ```
*   **Trigger (true_strike):**
    ```python
    mutations: {"force.hit_evasion": True}
    ```

### üî® "–°–æ–∫—Ä—É—à–µ–Ω–∏–µ" (Sunder Armor)
*   **–¶–µ–ª—å:** –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –±—Ä–æ–Ω—é.
*   **Config:**
    ```json
    {
      "pipeline_mutations": {"formula.can_pierce": True}
    }
    ```

### ü©∏ "–ö—Ä–æ–≤–∞–≤—ã–π –ö—Ä–∏—Ç" (Bleed on Crit)
*   **–¶–µ–ª—å:** –ü—Ä–∏ –∫—Ä–∏—Ç–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏–µ.
*   **Trigger (ON_CRIT):**
    ```python
    mutations: {
        "formula.crit_damage_boost": True,
        "add_effect": {"id": "bleed"}
    }
    ```
