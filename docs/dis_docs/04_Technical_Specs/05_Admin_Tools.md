# üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ Debug Tools
**–°—Ç–∞—Ç—É—Å:** Planned / Backlog
**–¶–µ–ª—å:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞, –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ö–∞–Ω–∏–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ SQL-–∫–æ–Ω—Å–æ–ª–∏.

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ê–¥–º–∏–Ω–∫–∏
–ê–¥–º–∏–Ω-—Ö—ç–Ω–¥–ª–µ—Ä—ã –∏–º–µ—é—Ç **—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞**. –ò–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ:
1.  –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ UI-—Å–µ—Ä–≤–∏—Å—ã.
2.  –ù–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—Ç—å `Repositories` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Stat injection, Item generation).
3.  –ù–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `GameService` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –º–µ—Ö–∞–Ω–∏–∫ (Spawn Combat).

**Security:**
* –§–∏–ª—å—Ç—Ä `IsAdmin` (–ø—Ä–æ–≤–µ—Ä–∫–∞ ID –∏–∑ `.env`) –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ö—ç–Ω–¥–ª–µ—Ä–æ–≤ —Ä–æ—É—Ç–µ—Ä–∞.

---

## 2. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ö–æ–º–∞–Ω–¥

### üì¶ A. –í—ã–¥–∞—á–∞ –ü—Ä–µ–¥–º–µ—Ç–æ–≤ (`/give_item`)
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π –ø—Ä–µ–¥–º–µ—Ç –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø–∞–¥–∞–µ—Ç –≤ –ª—É—Ç–µ.

* **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** `/give_item <item_key> [quantity]`
* **–ü—Ä–∏–º–µ—Ä:** `/give_item rusty_sword 1`
* **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
    1.  –ù–∞–π—Ç–∏ —à–∞–±–ª–æ–Ω –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ `BASE_ITEM_TEMPLATES` –∏–ª–∏ `ITEM_LIBRARY`.
    2.  –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å `item_data` (JSON).
    3.  –í—ã–∑–≤–∞—Ç—å `InventoryRepo.create_item(..., item_data=data)`.
    4.  –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–ü—Ä–µ–¥–º–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω (ID: 1050)".

### üí™ B. –†–µ–¥–∞–∫—Ç–æ—Ä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (`/set_stats`)
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –±–∏–ª–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º—É–ª (–∫–∞–ø –∫—Ä–∏—Ç–∞, —É–≤–æ—Ä–æ—Ç–∞).

* **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** `/set_stats <stat_name> <value>`
* **–ü—Ä–∏–º–µ—Ä:** `/set_stats strength 150`
* **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
    1.  –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
    2.  –í—ã–∑–æ–≤ `CharactersRepo.update_stats` (–∏–ª–∏ `add_stats` —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–ª—è —Å–±—Ä–æ—Å–∞).
    3.  –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö —Å—Ç–∞—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –ª–æ–≥–∞—Ö).

### ‚öîÔ∏è C. Debug Combat (`/debug_combat`)
–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–æ—è —Å –º–∞–Ω–µ–∫–µ–Ω–æ–º –∏–ª–∏ –∫–æ–ø–∏–µ–π –∏–≥—Ä–æ–∫–∞, –º–∏–Ω—É—è –æ—á–µ—Ä–µ–¥–∏ –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–∞.

* **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** `/debug_combat [mode]`
* **–ü—Ä–∏–º–µ—Ä:** `/debug_combat` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–∞–Ω–µ–∫–µ–Ω) –∏–ª–∏ `/debug_combat shadow` (–∫–æ–ø–∏—è —Å–µ–±—è).
* **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
    1.  –ü–æ–ª—É—á–∏—Ç—å `ArenaService` (Game Logic).
    2.  –í—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ `create_shadow_battle(mode="pve")`.
    3.  –ü–æ–ª—É—á–∏—Ç—å `session_id`.
    4.  –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ FSM –∞–¥–º–∏–Ω–∞ –≤ `InGame.combat`.
    5.  –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å UI –±–æ—è —á–µ—Ä–µ–∑ `CombatUIService`.

---

## 3. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –î–∞–º–ø—ã (Future)

* `/dump_state`: –í—ã–≥—Ä—É–∑–∫–∞ –ø–æ–ª–Ω–æ–≥–æ JSON —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (Redis + DB) —Ñ–∞–π–ª–æ–º. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–æ–≤.
* `/flush_redis`: –°–±—Ä–æ—Å –∫—ç—à–∞ (–æ–ø–∞—Å–Ω–æ, –Ω–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤).