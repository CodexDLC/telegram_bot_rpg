# üéí –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø: –°–ò–°–¢–ï–ú–ê –ò–ù–í–ï–ù–¢–ê–†–Ø

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Implemented & Refactored
**–í–µ—Ä—Å–∏—è:** 3.1 (Logic Helpers Integration)
**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `InventoryUIService`, `InventoryLogicHelpers`, `InventoryRepo`

---

## 1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ü—Ä–µ–¥–º–µ—Ç–æ–≤

–í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –≤ –∏–≥—Ä–µ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

### –ò–µ—Ä–∞—Ä—Ö–∏—è –¢–∏–ø–æ–≤
*   **Section (–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª):** `equip`, `resource`, `consumable`, `component`, `quest`.
*   **Item Type (–¢–∏–ø):** –£—Ç–æ—á–Ω—è–µ—Ç —Ä–∞–∑–¥–µ–ª. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `equip` —ç—Ç–æ `weapon`, `armor`.
*   **Subtype (–ü–æ–¥—Ç–∏–ø):** –ö–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä—É–µ—Ç —Ç–∏–ø. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `weapon` —ç—Ç–æ `sword`, `axe`.

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

#### 1. –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞ (Equipable)
–ü—Ä–µ–¥–º–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –Ω–∞–¥–µ—Ç—å –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤.
*   **–°–ª–æ—Ç—ã:**
    *   **–ë—Ä–æ–Ω—è:** –ì–æ–ª–æ–≤–∞, –¢–µ–ª–æ, –†—É–∫–∏, –ù–æ–≥–∏, –°—Ç—É–ø–Ω–∏.
    *   **–û–¥–µ–∂–¥–∞:** –¢–µ–ª–æ, –ù–æ–≥–∏, –í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞, –ü–µ—Ä—á–∞—Ç–∫–∏.
    *   **–û—Ä—É–∂–∏–µ:** –û—Å–Ω–æ–≤–Ω–∞—è —Ä—É–∫–∞, –í—Ç–æ—Ä–∞—è —Ä—É–∫–∞, –î–≤—É—Ä—É—á–Ω–æ–µ.
    *   **–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã:** –ê–º—É–ª–µ—Ç, –°–µ—Ä—å–≥–∞, 2 –ö–æ–ª—å—Ü–∞, –ü–æ—è—Å.

#### 2. –†–µ—Å—É—Ä—Å—ã (Resources)
–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∫—Ä–∞—Ñ—Ç–∞. –ù–µ –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.
*   **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –•—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º "–ö–æ—à–µ–ª—å–∫–µ –†–µ—Å—É—Ä—Å–æ–≤" (`ResourceWallet`) –∏ **—Å—Ç–∞–∫–∞—é—Ç—Å—è** (–¥–æ 999+ –≤ –æ–¥–Ω–æ–π —è—á–µ–π–∫–µ). –ù–µ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ.
*   **–¢–∏–ø—ã:** –†—É–¥—ã, –ö–æ–∂–∞, –¢–∫–∞–Ω–∏, –û—Ä–≥–∞–Ω–∏–∫–∞ –∏ —Ç.–¥.

#### 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Components)
–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–µ—Ç–∞–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–∞—Ö.
*   **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ö–∞–∫ –∏ —Ä–µ—Å—É—Ä—Å—ã, —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ "–ö–æ—à–µ–ª—å–∫–µ".
*   **–ò–¥–µ—è –¥–ª—è LLM:** –ü—Ä–∏ –∫—Ä–∞—Ñ—Ç–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∏—Ö **—Ç–µ–≥–∏** (`sharp`, `heavy`, `magic_infused`) –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞.

#### 4. –†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ (Consumables)
–ü—Ä–µ–¥–º–µ—Ç—ã –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∑–µ–ª—å—è, –µ–¥–∞, —Å–≤–∏—Ç–∫–∏).
*   **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ó–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ. –ú–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–º–µ—â–µ–Ω—ã –≤ **Quick Slots**.

#### 5. –ö–≤–µ—Å—Ç–æ–≤—ã–µ (Quest Items)
–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π. –ù–µ–ª—å–∑—è –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å.

---

## 2. –õ–æ—Ä–Ω–æ–µ –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

*   **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å:** –ù–∞ —Å—Ç–∞—Ä—Ç–µ ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ä—é–∫–∑–∞–∫ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –æ–±—ä–µ–º–æ–º.
*   **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:** –í –±—É–¥—É—â–µ–º –∏–≥—Ä–æ–∫–∏ —Å–º–æ–≥—É—Ç –Ω–∞–π—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –î—Ä–µ–≤–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°—É–º–∫–∞-–ß–µ—Ä–≤–æ—Ç–æ—á–∏–Ω–∞"), –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ "–∫–∞—Ä–º–∞–Ω–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è" –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.
*   **–°–∏–º–±–∏–æ—Ç:** –ù–µ —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–µ–¥–º–µ—Ç—ã, –∞ **–∫–∞—Ç–∞–ª–æ–≥–∏–∑–∏—Ä—É–µ—Ç** –∏—Ö, –ø–æ–∑–≤–æ–ª—è—è –∏–≥—Ä–æ–∫—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω–æ–µ (–∏–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).

---

## 3. –ê–ª–≥–æ—Ä–∏—Ç–º "–£–º–Ω–æ–π –§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏" (Smart Filtering)

*–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤, –∫–∞–∫ –∏ –±—ã–ª–æ —Ä–∞–Ω–µ–µ.*

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
* **Section:** –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª (`equip`, `resource`, `consumable`, `inventory`).
* **Category:** –£—Ç–æ—á–Ω—è—é—â–∏–π —Ñ–∏–ª—å—Ç—Ä (`all`, `weapon`, `ores`, `head_armor`).

### –õ–æ–≥–∏–∫–∞ –§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (Pipeline):
1.  **–§–∏–ª—å—Ç—Ä –ø–æ –õ–æ–∫–∞—Ü–∏–∏ (Location Check):**
    *   –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª **"–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å"** –∏–ª–∏ **"–ù–∞–¥–µ—Ç—å"** -> –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `location='inventory'`.
    *   –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª **"–ö—É–∫–ª–∞"** -> –ü–æ–∫–∞–∑—ã–≤–∞–µ–º `location='equipped'`.
2.  **–§–∏–ª—å—Ç—Ä –ø–æ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (Category Match):**
    *   **"ALL":** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Å–µ–∫—Ü–∏–∏.
    *   **"RESOURCE GROUP":** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥—Ç–∏–ø —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥ (`iron_ore` -> `ores`).
    *   **"EQUIPMENT SLOT":** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–µ `valid_slots` –≤ JSON-–¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–∞.
    *   **"ITEM TYPE":** –ü—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ (`weapon`).

---

## 4. –ú–µ—Ö–∞–Ω–∏–∫–∞ Quick Slots (–ü–æ—è—Å)

*–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—è—Å–∞, –∫–∞–∫ –∏ –±—ã–ª–æ —Ä–∞–Ω–µ–µ.*

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
*   **–ë–î:** –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã "—Å–ª–æ—Ç–æ–≤".
*   **–ü–æ–ª–µ:** –í `inventory_items` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–µ `quick_slot_position` (Nullable String).
*   **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç:** –û–¥–∏–Ω —Å–ª–æ—Ç –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–µ–¥–º–µ—Ç.

### –†–∞—Å—á–µ—Ç –ª–∏–º–∏—Ç–∞
*   –õ–∏–º–∏—Ç —Å–ª–æ—Ç–æ–≤ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π**.
*   **–ë–∞–∑–∞:** 0 —Å–ª–æ—Ç–æ–≤.
*   **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä:** –ü—Ä–µ–¥–º–µ—Ç –≤ —Å–ª–æ—Ç–µ `BELT_ACCESSORY` –¥–æ–±–∞–≤–ª—è–µ—Ç –±–æ–Ω—É—Å `quick_slot_capacity`.

---

## 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ú–µ–Ω—é (UX Flow)

*–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ UX, –∫–∞–∫ –∏ –±—ã–ª–æ —Ä–∞–Ω–µ–µ.*

### –£—Ä–æ–≤–µ–Ω—å 0: "–ö—É–∫–ª–∞" (Main Menu)
*   –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–¥–µ—Ç—ã—Ö –≤–µ—â–µ–π.
*   –ö–Ω–æ–ø–∫–∏ —Å–ª–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä—ã.
*   –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä—é–∫–∑–∞–∫–∞ –∏ –≤–∞–ª—é—Ç.

### –£—Ä–æ–≤–µ–Ω—å 1: –°–ø–∏—Å–∫–∏ (List View)
*   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
*   –ü–æ–¥-–º–µ–Ω—é –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–æ–≤.

### –£—Ä–æ–≤–µ–Ω—å 2: –î–µ—Ç–∞–ª–∏ (Item Details)
*   –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ —Å–æ —Å—Ç–∞—Ç–∞–º–∏.
*   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞–¥–µ—Ç–æ–π –≤–µ—â—å—é.
*   –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π.
