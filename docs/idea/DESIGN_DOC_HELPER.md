# –ö–û–ù–¶–ï–ü–¶–ò–Ø: –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–ê–Ø –ë–ò–ë–õ–ò–û–¢–ï–ö–ê (TMA + WEB)

**–°—Ç–∞—Ç—É—Å:** Future / Planned
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –ø–æ –∏–≥—Ä–µ, –¥–æ—Å—Ç—É–ø–Ω—É—é –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏ Telegram, —Ç–∞–∫ –∏ –≤ –≤–∏–¥–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å–∞–π—Ç–∞.

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Web-First

–ú—ã –æ—Ç–∫–∞–∑—ã–≤–∞–µ–º—Å—è –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö `aiogram` –≤ –ø–æ–ª—å–∑—É **Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö:
1.  **Telegram Mini App (TMA):** –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–Ω–∞–Ω–∏—è–º –ø—Ä—è–º–æ –∏–∑ –∏–≥—Ä—ã.
2.  **–ü—É–±–ª–∏—á–Ω—ã–π –°–∞–π—Ç (Wiki):** –î–ª—è –ø–æ–∏—Å–∫–æ–≤–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç—É–ø–∞ —Å –¥–µ—Å–∫—Ç–æ–ø–∞.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫ (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π)
*   **Frontend:** React / Vue / Svelte (–Ω–∞ –≤—ã–±–æ—Ä).
*   **Backend:** FastAPI (–∏–ª–∏ —Ç–æ—Ç –∂–µ `aiogram` —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º) –¥–ª—è –æ—Ç–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.
*   **API:** –ï–¥–∏–Ω—ã–π REST API –¥–ª—è –æ–±–æ–∏—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤.

---

## 2. –°—Ü–µ–Ω–∞—Ä–∏–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (User Flow)

### –ê. –í–Ω—É—Ç—Ä–∏ –ò–≥—Ä—ã (TMA)
1.  **–í—Ö–æ–¥:** –ò–≥—Ä–æ–∫ –≤–≤–æ–¥–∏—Ç –∫–æ–º–∞–Ω–¥—É `/help`.
2.  **–û—Ç–≤–µ—Ç –±–æ—Ç–∞:** "–û—Ç–∫—Ä—ã–≤–∞—é –ë–∏–±–ª–∏–æ—Ç–µ–∫—É –∑–Ω–∞–Ω–∏–π..."
    *   **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `[ üìñ –û—Ç–∫—Ä—ã—Ç—å –ë–∏–±–ª–∏–æ—Ç–µ–∫—É ]` (–∫–Ω–æ–ø–∫–∞ —Å `WebAppInfo`).
3.  **–ó–∞–ø—É—Å–∫ TMA:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
    *   **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
        *   –°–ª–µ–≤–∞ ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º (`–ë–æ–π`, `–ú–∏—Ä`, `–ö—Ä–∞—Ñ—Ç`).
        *   –°–≤–µ—Ä—Ö—É ‚Äî –ø–æ–ª–µ –¥–ª—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞** –ø–æ —Å—Ç–∞—Ç—å—è–º.
        *   –í —Ü–µ–Ω—Ç—Ä–µ ‚Äî –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏.

### –ë. –í–Ω–µ –ò–≥—Ä—ã (–°–∞–π—Ç)
1.  **–í—Ö–æ–¥:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ `wiki.yourgame.com`.
2.  **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–Ω –≤–∏–¥–∏—Ç —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á—Ç–æ –∏ –≤ TMA, –Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Å–∞–π—Ç–∞.

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö

### Backend (API)
*   **–ï–¥–∏–Ω—ã–π —Ä–æ—É—Ç:** `/api/v1/library/all`
*   **–ú–µ—Ç–æ–¥:** `GET`
*   **–û—Ç–≤–µ—Ç:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–æ–¥–∏–Ω –±–æ–ª—å—à–æ–π JSON-–º–∞—Å—Å–∏–≤** —Å–æ –≤—Å–µ–º–∏ —Å—Ç–∞—Ç—å—è–º–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
    ```json
    [
      {
        "article_id": 1,
        "title": "–ß—Ç–æ —Ç–∞–∫–æ–µ –°—Ç–∞—Ç—ã",
        "content": "<html>...",
        "section": "combats",
        "keywords": ["—Å—Ç–∞—Ç—ã", "—Å–∏–ª–∞", "–ª–æ–≤–∫–æ—Å—Ç—å"]
      },
      ...
    ]
    ```
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û—Ç–≤–µ—Ç —ç—Ç–æ–≥–æ —Ä–æ—É—Ç–∞ –¥–æ–ª–∂–µ–Ω –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—è—é—Ç—Å—è —Ä–µ–¥–∫–æ.

### Frontend (–ö–ª–∏–µ–Ω—Ç)
*   –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ (TMA –∏–ª–∏ —Å–∞–π—Ç–∞) –∫–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `/api/v1/library/all` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —É —Å–µ–±—è.
*   –í—Å—è –¥–∞–ª—å–Ω–µ–π—à–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç **–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞**, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö (`library_articles`)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
|`article_id`|`INTEGER`|PK, ID —Å—Ç–∞—Ç—å–∏|
|`title`|`TEXT`|–ó–∞–≥–æ–ª–æ–≤–æ–∫ ("–ß—Ç–æ —Ç–∞–∫–æ–µ –°—Ç–∞—Ç—ã")|
|`content`|`TEXT`|–¢–µ–ª–æ —Å—Ç–∞—Ç—å–∏ (HTML-—Ç–µ–∫—Å—Ç)|
|`section`|`TEXT`|–ö–∞—Ç–µ–≥–æ—Ä–∏—è (`combat`, `world`, `mechanics`)|
|`keywords`|`TEXT`|–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ ("—Å—Ç–∞—Ç—ã, —Å–∏–ª–∞, –ª–æ–≤–∫–æ—Å—Ç—å, special")|

---

## 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¢—É—Ç–æ—Ä–∏–∞–ª–æ–º

–ö–Ω–æ–ø–∫–∞ `[ ‚ùì –ú–æ–π –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å ]` –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é `/help` –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –≤ –±–æ—Ç–µ. –û–Ω–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å TMA, –∞ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π FSM-—Ö—ç–Ω–¥–ª–µ—Ä (`OnboardingFSM`), –∫–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–æ–≤–æ –ø—Ä–æ–≤–µ–¥–µ—Ç –∏–≥—Ä–æ–∫–∞ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —à–∞–≥–∞–º –æ–±—É—á–µ–Ω–∏—è.
