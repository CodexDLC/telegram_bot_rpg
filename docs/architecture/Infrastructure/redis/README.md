# ‚ö° Redis Infrastructure (–ö—ç—à –∏ –û—á–µ—Ä–µ–¥–∏)

[‚¨ÖÔ∏è –ù–∞–∑–∞–¥: Infrastructure](../README.md) | [üè† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Root)](../../README.md)

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Ä–∞–±–æ—Ç—ã —Å Redis. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, FSM, –æ—á–µ—Ä–µ–¥–µ–π –∑–∞–¥–∞—á –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—è.

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üîë [Key Schema](./key_schema.md)
–†–µ–µ—Å—Ç—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–ª—é—á–µ–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### üèóÔ∏è [Managers](./managers.md)
–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Domain Managers), —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ Redis.

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–ª–æ–µ–≤

### Layer 1: Key Registry (`redis_key.py`)
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–ª—é—á–µ–π.

### Layer 2: Field Registry (`redis_fields.py`)
–•—Ä–∞–Ω–∏–ª–∏—â–µ –∏–º–µ–Ω –ø–æ–ª–µ–π –¥–ª—è HASH-—Å—Ç—Ä—É–∫—Ç—É—Ä.

### Layer 3: Redis Service (`redis_service.py`)
–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ –¥—Ä–∞–π–≤–µ—Ä–æ–º `redis-py`.

### Layer 4: Domain Managers (`*_manager.py`)
–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (AccountManager, CombatManager, WorldManager, ArenaManager).

**Location:** `backend/database/redis/manager/`

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
*   **RedisJSON:** –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.
*   **ARQ:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á.
