# Skill Progression Math (RBC v3.1)

## 1. Философия Системы
Прогрессия строится на принципе **«Тяга против Сопротивления»** (Traction vs Resistance).

*   **Тяга (Числитель):** Определяется Атрибутами персонажа (Сила, Ловкость и т.д.). Чем выше статы, тем быстрее персонаж учится.
*   **Сопротивление (Знаменатель):** Определяется текущим уровнем навыка. Чем выше мастерство, тем сильнее "Стена", замедляющая развитие.

Система не использует "Очки Опыта" (XP). Каждое действие напрямую увеличивает значение навыка (Float 0.0 ... 1.0) на вычисляемую величину Delta.

---

## 2. Мастер-Формула
При совершении успешного действия (удар, крафт, применение способности) прирост навыка рассчитывается по следующей формуле:

$$
\Delta Skill = \frac{BasePower \times EffectiveRate}{1 + (CurrentSkill \times EffectiveWall)}
$$

### Легенда переменных:
*   **$\Delta Skill$:** Величина прироста (например, 0.00005). Добавляется к текущему значению навыка.
*   **$BasePower$ (Тяга):** Сумма атрибутов персонажа, умноженная на их веса для конкретного навыка.
*   **$EffectiveRate$ (Скорость):** Итоговый коэффициент скорости обучения для данного навыка.
*   **$CurrentSkill$:** Текущее значение навыка (от 0.0 до 1.0).
*   **$EffectiveWall$ (Стена):** Итоговый коэффициент сопротивления (сложности) для данного навыка.

---

## 3. Глобальные Константы (Physics)
Эти значения задают базовый темп игры для всего сервера.

| Переменная | Значение (База) | Описание |
| :--- | :--- | :--- |
| `GLOBAL_BASE_RATE` | 0.000005 | Фундаментальная скорость. Определяет, сколько прогресса получает персонаж за 1 действие при стандартных условиях. |
| `GLOBAL_BASE_WALL` | 100.0 | Фундаментальная сложность. Определяет крутизну кривой затухания. При значении 100.0 развитие на уровне мастера (1.0) в 101 раз медленнее, чем на старте (0.0). |

---

## 4. Локальные Модификаторы (Skill Config)
Каждый навык имеет индивидуальные настройки, которые умножают глобальные константы.

### A. rate_mod (Модификатор Скорости)
Множитель для `GLOBAL_BASE_RATE`.
*   **Логика:** Учитывает время, затрачиваемое на одно действие.
*   **Примеры:**
    *   Бой (Удар 2 сек): 1.0 (Стандарт).
    *   Крафт (30 сек): 5.0 (За одно действие даем в 5 раз больше опыта).
    *   Социальное (Раз в час): 100.0 (Огромный прирост).

### B. wall_mod (Модификатор Стены)
Множитель для `GLOBAL_BASE_WALL`.
*   **Логика:** Определяет элитарность Грандмастера в этом навыке.
*   **Примеры:**
    *   Бой: 1.0 (Стандартная кривая).
    *   Собирательство: 0.8 (Чуть легче достичь капа).
    *   Создание Артефактов: 1.5 (Очень жесткая стена).

---

## 5. Итоговый алгоритм расчета

### 1. Сбор Констант:
$$EffectiveRate = GLOBAL\_BASE\_RATE \times rate\_mod$$
$$EffectiveWall = GLOBAL\_BASE\_WALL \times wall\_mod$$

### 2. Расчет Тяги (Base Power):
Берем статы игрока и веса навыка (например, Сила x2, Ловкость x1).
$$Power = (STR \times 2) + (DEX \times 1)$$
*(Пример: Сила 17, Ловкость 16 -> Power = 50)*

### 3. Вычисление Делителя (Resistance):
$$Resistance = 1.0 + (CurrentSkill \times EffectiveWall)$$
*(Пример: Skill 0.5, Wall 100 -> Resistance = 51)*

### 4. Финальный расчет:
$$Delta = \frac{Power \times EffectiveRate}{Resistance}$$