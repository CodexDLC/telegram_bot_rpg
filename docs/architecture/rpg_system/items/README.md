# Items System (–ü—Ä–µ–¥–º–µ—Ç—ã)

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ `Telegram_Bot_RPG` –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –ü—Ä–µ–¥–º–µ—Ç –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–∞—è –∑–∞–ø–∏—Å—å, –∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–µ–¥–º–µ—Ç–∞:**
1.  **Base Item (–ë–æ–ª–≤–∞–Ω–∫–∞):** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø (–ú–µ—á), —Å–ª–æ—Ç (Main Hand) –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∞—Ç—ã.
2.  **Material (–ú–∞—Ç–µ—Ä–∏–∞–ª):** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏—Ä (Tier), –ø—Ä–æ—á–Ω–æ—Å—Ç—å –∏ –º–Ω–æ–∂–∏—Ç–µ–ª–∏ —Å—Ç–∞—Ç–æ–≤.
3.  **Affixes (–ê—Ñ—Ñ–∏–∫—Å—ã):** –ü—Ä–µ—Ñ–∏–∫—Å—ã –∏ —Å—É—Ñ—Ñ–∏–∫—Å—ã, –¥–∞—é—â–∏–µ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞.

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (Current State)

–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `TypedDict`.
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è Legacy. –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Pydantic DTO.

### 1. Raw Resource (–°—ã—Ä—å–µ)
–î–æ–±—ã–≤–∞–µ—Ç—Å—è –≤ –º–∏—Ä–µ.
*   `id`: "res_iron_ore"
*   `base_price`: 5

### 2. Material (–ú–∞—Ç–µ—Ä–∏–∞–ª)
–°–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ —Å—ã—Ä—å—è.
*   `id`: "mat_iron_ingot"
*   `tier_mult`: 1.0 (–ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å—Ç–∞—Ç–æ–≤ –±–æ–ª–≤–∞–Ω–∫–∏)

### 3. Base Item (–ë–æ–ª–≤–∞–Ω–∫–∞)
–®–∞–±–ª–æ–Ω –ø—Ä–µ–¥–º–µ—Ç–∞.
*   `id`: "weapon_sword_long"
*   `slot`: "main_hand"
*   `base_power`: 10
*   `allowed_materials`: ["ingots"]

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

1.  –í—ã–±–∏—Ä–∞–µ—Ç—Å—è **Base Item** (–Ω–∞–ø—Ä–∏–º–µ—Ä, Longsword).
2.  –í—ã–±–∏—Ä–∞–µ—Ç—Å—è **Material** (–Ω–∞–ø—Ä–∏–º–µ—Ä, Iron Ingot).
3.  **Power** = `Base.power` * `Material.tier_mult`.
4.  –î–æ–±–∞–≤–ª—è—é—Ç—Å—è **Affixes** (RNG).

## üìÇ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
apps/game_core/resources/game_data/items/
‚îú‚îÄ‚îÄ raw_resource/       # –†—É–¥–∞, –∫–æ–∂–∞, —Ç—Ä–∞–≤–∞
‚îú‚îÄ‚îÄ material/           # –°–ª–∏—Ç–∫–∏, –¥—É–±–ª–µ–Ω–∞—è –∫–æ–∂–∞
‚îú‚îÄ‚îÄ base_item/          # –û—Ä—É–∂–∏–µ, –±—Ä–æ–Ω—è
‚îú‚îÄ‚îÄ affixes/            # –ü—Ä–µ—Ñ–∏–∫—Å—ã, —Å—É—Ñ—Ñ–∏–∫—Å—ã
‚îî‚îÄ‚îÄ bases.py            # –†–µ–µ—Å—Ç—Ä (TypedDict)
```

## üöÄ –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–°–º. [Migration to DTO](./migration_to_dto.md).
