# ‚öîÔ∏è Skill Architecture: Parrying (–ü–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)

‚¨ÖÔ∏è [–ù–∞–∑–∞–¥](./README.md) | üè† [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../../../README.md)

**Status:** Draft
**Related:** `combat_calculator.py`, `items/weapons.py`, `items/shields.py`

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–≤—ã–∫–∞ **"Parrying"**.
–ù–∞–≤—ã–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏.

---

## 1. –§–∏–ª–æ—Å–æ—Ñ–∏—è –ù–∞–≤—ã–∫–∞

**"–ü–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ" ‚Äî —ç—Ç–æ –Ω–∞–≤—ã–∫ –∫–æ–Ω—Ç—Ä–æ–ª—è —É–≥–ª–æ–≤ –∏ –≤–µ–∫—Ç–æ—Ä–æ–≤.**

*   **–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –û—Ä—É–∂–∏—è:** –≠—Ç–æ —É–º–µ–Ω–∏–µ —É–¥–∞—Ä–∏—Ç—å –ø–æ –∫–ª–∏–Ω–∫—É –≤—Ä–∞–≥–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –ø—Ä–æ—à–µ–ª –º–∏–º–æ (Deflection).
*   **–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –©–∏—Ç–∞:** –≠—Ç–æ —É–º–µ–Ω–∏–µ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –ø–ª–æ—Å–∫–æ—Å—Ç—å —â–∏—Ç–∞ —Ç–∞–∫, —á—Ç–æ–±—ã —É–¥–∞—Ä –ø—Ä–∏—à–µ–ª—Å—è –ø–æ –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ–π –∏–ª–∏ –≤ —Å–∞–º—É—é —É–∫—Ä–µ–ø–ª–µ–Ω–Ω—É—é —Ç–æ—á–∫—É (Mitigation/Block).

### –ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø
–ù–∞–≤—ã–∫ –Ω–µ –¥–∞–µ—Ç –∑–∞—â–∏—Ç—É —Å–∞–º –ø–æ —Å–µ–±–µ. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–ú–Ω–æ–∂–∏—Ç–µ–ª—å (Multiplier)** –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ —Ä—É–∫–∞—Ö.

*   –ù–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ —Ä—É–∫–∞—Ö = –ù–µ—Ç –ø–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.
*   –ü—Ä–µ–¥–º–µ—Ç –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã (–ë–∞–∑–∞ 0%) = –ù–µ—Ç –ø–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–∞–∂–µ –ø—Ä–∏ –Ω–∞–≤—ã–∫–µ 100).

---

## 2. –ú–µ—Ö–∞–Ω–∏–∫–∞ A: –ü–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –û—Ä—É–∂–∏–µ–º (Weapon Parry)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤ —Ä—É–∫–∞—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—Ä—É–∂–∏–µ (Sword, Dagger, Axe) –∏–ª–∏ –ë–∞–∫–ª–µ—Ä (–∫–æ—Ç–æ—Ä—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —â–∏—Ç, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –º–µ—Ö–∞–Ω–∏–∫–µ –ø–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è).

### 2.1. –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
*   **Weapon Base Parry (`base_parry`):** –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –ø—Ä–µ–¥–º–µ—Ç–∞.
    *   *–¢—è–∂–µ–ª—ã–µ –º–æ–ª–æ—Ç—ã:* ~1% (–ü—Ä–∏–º–µ—Ä)
    *   *–ú–µ—á–∏:* ~3-5% (–ü—Ä–∏–º–µ—Ä)
    *   *–î–∞–≥–∏/–ë–∞–∫–ª–µ—Ä—ã:* ~5-10% (–ü—Ä–∏–º–µ—Ä)
*   **Skill Level:** –£—Ä–æ–≤–µ–Ω—å –Ω–∞–≤—ã–∫–∞ "Parrying" (0-100).

### 2.2. –§–æ—Ä–º—É–ª–∞ (–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ú–Ω–æ–∂–∏—Ç–µ–ª—å)
–¢–∞–∫ –∫–∞–∫ –±–∞–∑–∞ —É –æ—Ä—É–∂–∏—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∞—è, –Ω–∞–≤—ã–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–∑–≥–æ–Ω—è—Ç—å –µ—ë —Å–∏–ª—å–Ω–æ (–¥–æ **x5**), —á—Ç–æ–±—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–∞—Å—Ç–µ—Ä–∞ —ç—Ç–æ –∏–º–µ–ª–æ —Å–º—ã—Å–ª.

```math
FinalChance = WeaponBase * (1 + 4 * (Skill / 100))
```

### 2.3. –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è (–ü—Ä–∏–º–µ—Ä—ã)
> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–Ω–∞—á–µ–Ω–∏—è –±–∞–∑—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —É–∫–∞–∑–∞–Ω—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞.

| –¢–∏–ø | –ë–∞–∑–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ | –ù–æ–≤–∏—á–æ–∫ (Lvl 0) | –£—á–µ–Ω–∏–∫ (Lvl 25) | –≠–∫—Å–ø–µ—Ä—Ç (Lvl 75) | –ú–∞—Å—Ç–µ—Ä (Lvl 100, x5) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **–ú–æ–ª–æ—Ç** | 1% | 1.0% | 2.0% | 4.0% | 5.0% |
| **–ú–µ—á** | 4% | 4.0% | 8.0% | 16.0% | 20.0% |
| **–î–∞–≥–∞** | 7% | 7.0% | 14.0% | 28.0% | 35.0% |

**–õ–æ–≥–∏–∫–∞:** –ú–∞—Å—Ç–µ—Ä —Å –º–æ–ª–æ—Ç–æ–º –∑–∞—â–∏—â–∞–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –Ω–æ–≤–∏—á–æ–∫ —Å –¥–∞–≥–æ–π. –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –Ω–µ—É–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

---

## 3. –ú–µ—Ö–∞–Ω–∏–∫–∞ B: –ë–ª–æ–∫ –©–∏—Ç–æ–º (Shield Block)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤ —Å–ª–æ—Ç–µ OFFHAND —ç–∫–∏–ø–∏—Ä–æ–≤–∞–Ω –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–ª–∏ –¢—è–∂–µ–ª—ã–π —â–∏—Ç.
–ó–¥–µ—Å—å –Ω–∞–≤—ã–∫ "–ü–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ" –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ "–£–º–µ–Ω–∏–µ –¥–µ—Ä–∂–∞—Ç—å —â–∏—Ç" (Shield Mastery).

### 3.1. –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
*   **Shield Base Block (`base_block_chance`):** –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞.
    *   *–õ–µ–≥–∫–∏–π —â–∏—Ç:* ~10-15% (–ü—Ä–∏–º–µ—Ä)
    *   *–¢—è–∂–µ–ª—ã–π —â–∏—Ç:* ~20-30% (–ü—Ä–∏–º–µ—Ä)
*   **Skill Level:** –£—Ä–æ–≤–µ–Ω—å –Ω–∞–≤—ã–∫–∞ "Parrying" (0-100).

### 3.2. –§–æ—Ä–º—É–ª–∞ (–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ú–Ω–æ–∂–∏—Ç–µ–ª—å)
–£ —â–∏—Ç–æ–≤ –≤—ã—Å–æ–∫–∞—è –±–∞–∑–∞. –ï—Å–ª–∏ –º—ã –ø—Ä–∏–º–µ–Ω–∏–º —Ñ–æ—Ä–º—É–ª—É –æ—Ä—É–∂–∏—è (x5), —Ç–æ —â–∏—Ç —Å –±–∞–∑–æ–π 20% –¥–∞—Å—Ç 100% –Ω–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å, —á—Ç–æ —Å–ª–æ–º–∞–µ—Ç –∏–≥—Ä—É.
–ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–æ–≥–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å (Max **x2.5**).

```math
FinalBlock = ShieldBase * (1 + 1.5 * (Skill / 100))
```

### 3.3. –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è (–ü—Ä–∏–º–µ—Ä—ã)
> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–Ω–∞—á–µ–Ω–∏—è –±–∞–∑—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —É–∫–∞–∑–∞–Ω—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞.

| –¢–∏–ø | –ë–∞–∑–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ | –ù–æ–≤–∏—á–æ–∫ (Lvl 0) | –£—á–µ–Ω–∏–∫ (Lvl 25) | –≠–∫—Å–ø–µ—Ä—Ç (Lvl 75) | –ú–∞—Å—Ç–µ—Ä (Lvl 100, x2.5) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **–ö—Ä—É–≥–ª—ã–π —â–∏—Ç** | 15% | 15.0% | ~20.6% | ~31.8% | 37.5% |
| **–ë–∞—à–µ–Ω–Ω—ã–π —â–∏—Ç** | 25% | 25.0% | ~34.3% | ~53.1% | 62.5% |

**–õ–æ–≥–∏–∫–∞:** –©–∏—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω —Å—Ä–∞–∑—É (–¥–∞–∂–µ —É –Ω–æ–≤–∏—á–∫–∞), –Ω–æ –º–∞—Å—Ç–µ—Ä –≤—ã–∂–∏–º–∞–µ—Ç –∏–∑ –Ω–µ–≥–æ –Ω–µ–ø—Ä–æ–±–∏–≤–∞–µ–º—É—é –∑–∞—â–∏—Ç—É (–¥–æ 60%+).

---

## 4. –§–æ—Ä–º—É–ª–∞ –û–ø—ã—Ç–∞ (XP Factor)

–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤:

```math
XP_Factor = (Agility * 2) + Strength + Perception
```

*   **Agility (–õ–æ–≤–∫–æ—Å—Ç—å):** –û—Å–Ω–æ–≤–Ω–æ–π –∞—Ç—Ä–∏–±—É—Ç (x2). –†–µ–∞–∫—Ü–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏–π.
*   **Strength (–°–∏–ª–∞):** –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —É–¥–∞—Ä –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—è–∂–µ–ª–æ–µ –æ—Ä—É–∂–∏–µ/—â–∏—Ç.
*   **Perception (–í–æ—Å–ø—Ä–∏—è—Ç–∏–µ):** –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–æ–≤—Ä–µ–º—è –∑–∞–º–µ—Ç–∏—Ç—å –∞—Ç–∞–∫—É.
