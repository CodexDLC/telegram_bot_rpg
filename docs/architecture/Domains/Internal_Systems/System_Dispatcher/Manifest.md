# üîÄ System Dispatcher

> **Status:** ‚ö†Ô∏è Refactored (Stateless)

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ
–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è **—Å–ª–∞–±—ã—Ö —Å–≤—è–∑–µ–π** (Loose Coupling).
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞:
1.  –ù—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–æ–º–µ–Ω–∞ –ø–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ WebSocket –∫–æ–º–∞–Ω–¥—ã `action="attack"`).
2.  –ù—É–∂–Ω–æ —Ä–∞–∑–æ—Ä–≤–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –º–µ–∂–¥—É –¥–æ–º–µ–Ω–∞–º–∏ (–µ—Å–ª–∏ Direct Injection –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω).

**–í–∞–∂–Ω–æ:** –î–∏—Å–ø–µ—Ç—á–µ—Ä –±–æ–ª—å—à–µ **–ù–ï** —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Å—Å–∏—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. Service Locator
* **Registry:** –•—Ä–∞–Ω–∏—Ç –º–∞–ø–ø–∏–Ω–≥ `CoreDomain -> Orchestrator`.
* **Resolution:** –ù–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

### 2. Restrictions (–ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ—Ç –î–∏—Å–ø–µ—Ç—á–µ—Ä)
* ‚ùå **–ù–ï —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ë–î.** –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã —Å–∞–º–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º I/O.
* ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è ContextAssembler.** –°–µ—Ä–≤–∏—Å—ã –¥–∞–Ω–Ω—ã—Ö (Data Loaders) –¥–æ–ª–∂–Ω—ã –∏–Ω–∂–µ–∫—Ç–∏—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
* ‚ùå **–ù–ï –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.** –ó–∞ —ç—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç —Å–ª–æ–π `Persistence` (SyncDispatcher + ARQ).

## üîó Related Components
* `apps/game_core/system/dispatcher.py` ‚Äî –°–∞–º —Ä–æ—É—Ç–µ—Ä.
* `backend/domains/persistence/dispatcher.py` ‚Äî **SyncDispatcher** (–æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫—É).