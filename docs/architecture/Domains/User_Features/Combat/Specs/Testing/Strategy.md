# Combat System: Testing Strategy

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è
–ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Äî —ç—Ç–æ —Å–µ—Ä–¥—Ü–µ –∏–≥—Ä—ã. –û—à–∏–±–∫–∏ –∑–¥–µ—Å—å –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –¥–∏—Å–±–∞–ª–∞–Ω—Å—É –∏ –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤—É –∏–≥—Ä–æ–∫–æ–≤.
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–¥—Ö–æ–¥ **"Stateless Math, Stateful Mechanics"**.

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
1.  **Deterministic Resolver:** –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –±–æ—è (Resolver) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π. –ü—Ä–∏ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –≤—Ö–æ–¥–Ω—ã—Ö —Å—Ç–∞—Ç–∞—Ö –∏ RNG-—Å–∏–¥–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–µ–Ω.
2.  **Mocked Infrastructure:** –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —Ö–æ–¥–∏—Ç—å –≤ Redis –∏–ª–∏ –ë–î.
3.  **Golden Files:** –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ —Ñ–æ—Ä–º—É–ª –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ JSON-—Å—Ü–µ–Ω–∞—Ä–∏–∏.

## üìä –ü–∏—Ä–∞–º–∏–¥–∞ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. Unit Tests (70%)
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
*   **Scope:** `CombatResolver`, `ContextBuilder`, `StatsEngine`, `FeintService`.
*   **Focus:** –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, —Ñ–ª–∞–≥–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è.

### 2. Integration Tests (20%)
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ.
*   **Scope:** `CombatPipeline.calculate()`.
*   **Focus:** –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Builder -> Resolver -> Mechanics).

### 3. Flow / E2E Tests (10%)
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
*   **Scope:** `Executor` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏), `Dual Wield`, `Counter Attack`.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
*   [Unit Tests Specs](./Unit/README.md)
*   [Integration Tests Specs](./Integration/README.md)
*   [Fixtures & Mocks](./Fixtures/README.md)
