# üé® Menu UI Service

‚¨ÖÔ∏è [Back to Game Menu](../../../README.md)

> **Layer:** Presentation (Telegram / UI)
> **Responsibility:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä.

## 1. Purpose
–ò–∑–æ–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (HTML-—Ä–∞–∑–º–µ—Ç–∫–∞, —Å–º–∞–π–ª–∏–∫–∏, —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –∫–Ω–æ–ø–æ–∫) –æ—Ç –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä).
–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç "—Å—É—Ö–∏–µ" –¥–∞–Ω–Ω—ã–µ DTO –≤ –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Telegram.

## 2. Methods

### 2.1. `render(dto: GameMenuDTO) -> MenuViewDTO`
–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥. –°–æ–±–∏—Ä–∞–µ—Ç –ø–æ–ª–Ω—ã–π View –º–µ–Ω—é.

*   **Input:** `GameMenuDTO` (–¥–∞–Ω–Ω—ã–µ –æ—Ç –±—ç–∫–µ–Ω–¥–∞).
*   **Output:** `MenuViewDTO` (—Ç–µ–∫—Å—Ç + –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞).
*   **Logic:**
    ```python
    text = self._format_hud(dto.hud)
    kb = self._create_keyboard(dto.buttons)
    return MenuViewDTO(text=text, kb=kb)
    ```

### 2.2. `_format_hud(hud: HUDDataDTO) -> str`
–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (HTML).

*   **Logic:**
    *   –î–æ–±–∞–≤–ª—è–µ—Ç —Å–º–∞–π–ª–∏–∫–∏ (‚ù§Ô∏è, ‚ö°).
    *   –†–∏—Å—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
    *   –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –±–∞—Ñ—Ñ–æ–≤.
    *   –ü—Ä–∏–º–µ—Ä:
        ```html
        <b>Hero Name</b> [Level 5]
        ‚ù§Ô∏è 100/100  ‚ö° 50/50
        üìç <i>Dark Forest</i>
        ```

### 2.3. `_create_keyboard(buttons: list[ButtonDTO]) -> InlineKeyboardMarkup`
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É.

*   **Logic:**
    *   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `InlineKeyboardBuilder`.
    *   –°–æ–∑–¥–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ `ButtonDTO` (id, text).
    *   –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `callback_data` —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `menu` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `menu:inventory`).
    *   –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–∞—Å–∫–ª–∞–¥–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `adjust(2)` –∏–ª–∏ `row()`).
