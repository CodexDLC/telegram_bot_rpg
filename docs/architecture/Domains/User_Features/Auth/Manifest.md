# üîë Domain: Auth (Telegram Entry)

> **Status:** ‚ö†Ô∏è Needs Refactoring

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ
–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≤—Ö–æ–¥–∞ –¥–ª—è Telegram-–±–æ—Ç–∞.
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Redis –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –î–∏—Å–ø–µ—Ç—á–µ—Ä—É.

## üîë Key Responsibility: `ac:{char_id}`
–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ª–æ–≥–∏–Ω–µ —Å–µ—Ä–≤–∏—Å **–æ–±—è–∑–∞–Ω** –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á `ac:{char_id}` (Active Character Context) –≤ Redis.
–≠—Ç–æ "–≥–æ—Ä—è—á–∏–π" –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ ID —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–≥—Ä–æ–∫–∞.

## üîÑ Flow
1.  **Telegram Update:** `/start` or Button Click.
2.  **Auth Check:** –í–∞–ª–∏–¥–∞—Ü–∏—è `user_id`.
3.  **Session Init:** –ó–∞–ø–∏—Å—å/–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `ac:{char_id}`.
4.  **Handoff:** –ü–µ—Ä–µ–¥–∞—á–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ `SystemDispatcher`.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (V2 Target)
*   **API:** Telegram Handlers.
*   **Engine:** Session Initializer.
*   **Data:** User Repo.

## üîó Current Code
*   `apps/game_core/modules/auth/`
