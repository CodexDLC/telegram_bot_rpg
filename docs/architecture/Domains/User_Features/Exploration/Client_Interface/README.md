# üì± Client Interface (Telegram Bot)

## UI Components

### 1. Navigation Grid (–°–µ—Ç–∫–∞ –ù–∞–≤–∏–≥–∞—Ü–∏–∏)
–û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –°—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `NavigationGridDTO`.

#### –†–∞—Å–∫–ª–∞–¥–∫–∞ (Key Mapping)

| –ü–æ–∑–∏—Ü–∏—è | –ö–Ω–æ–ø–∫–∞ (–ü—Ä–∏–º–µ—Ä) | Action (API) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| **NW** | `üîç –ü–æ–∏—Å–∫` | `interact(action="search")` | –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞ (–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è). –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —ç–Ω–∫–∞—É–Ω—Ç–µ—Ä–æ–≤ –±–µ–∑ –¥–≤–∏–∂–µ–Ω–∏—è. |
| **N** | `‚¨ÜÔ∏è –°–µ–≤–µ—Ä` | `move(dir="n")` | –î–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –Ω–∞ –°–µ–≤–µ—Ä. |
| **NE** | `‚öîÔ∏è –ë–æ–∏` / `‚òÆÔ∏è –ú–∏—Ä` | `interact(action="scan_battles")` | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ–µ–≤ –∏–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. |
| **W** | `‚¨ÖÔ∏è –ó–∞–ø–∞–¥` | `move(dir="w")` | –î–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –Ω–∞ –ó–∞–ø–∞–¥. |
| **Center** | `üëÅ –û–±–∑–æ—Ä` | `look_around()` | –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ (—Ä–µ—Å–ø–∞–≤–Ω, –Ω–æ–≤—ã–µ –∏–≥—Ä–æ–∫–∏). |
| **E** | `‚û°Ô∏è –í–æ—Å—Ç–æ–∫` | `move(dir="e")` | –î–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –Ω–∞ –í–æ—Å—Ç–æ–∫. |
| **SW** | `üë• –õ—é–¥–∏` | `interact(action="scan_players")` | –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –≤ –ª–æ–∫–∞—Ü–∏–∏. |
| **S** | `‚¨áÔ∏è –Æ–≥` | `move(dir="s")` | –î–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –Ω–∞ –Æ–≥. |
| **SE** | `üß≠ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä` | `interact(action="navigator")` | –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ü–µ–ª–∏ –¥–ª—è –∞–≤—Ç–æ-–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è. |

#### –ù–∏–∂–Ω–∏–π —Ä—è–¥ (Services)
–ö–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞ –≤ –∑–¥–∞–Ω–∏—è –∏ —Å–µ—Ä–≤–∏—Å—ã.
*   **–ü—Ä–∏–º–µ—Ä—ã:** "üç∫ –¢–∞–≤–µ—Ä–Ω–∞", "‚öîÔ∏è –ê—Ä–µ–Ω–∞".
*   **Action:** `use_service(service_id=...)`.

### 2. Encounter View
–≠–∫—Ä–∞–Ω —Å–æ–±—ã—Ç–∏—è, –∑–∞–º–µ–Ω—è—é—â–∏–π –∫–∞—Ä—Ç—É.
*   **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** –ö–∞—Ä—Ç–∏–Ω–∫–∞ (Media), –¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è, –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–ê—Ç–∞–∫–∞, –£–π—Ç–∏, –ì–æ–≤–æ—Ä–∏—Ç—å).

## Handlers
*   `navigation.py`: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ —Å–µ—Ç–∫—É.
*   `encounter.py`: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –≤ —ç–Ω–∫–∞—É–Ω—Ç–µ—Ä–µ.
