# üîÄ System Dispatcher & Session Sync

> **Status:** ‚úÖ Stable (Core)

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–µ–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞–º–∏.
–í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1.  **Service Locator:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –¥–æ–º–µ–Ω–æ–≤.
2.  **Session Garbage Collector:** –°–ª–µ–¥–∏—Ç –∑–∞ —á–∏—Å—Ç–æ—Ç–æ–π —Å–µ—Å—Å–∏–π –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. Dispatcher (Locator)
*   **Registry:** –•—Ä–∞–Ω–∏—Ç –º–∞–ø–ø–∏–Ω–≥ `DomainEnum -> Orchestrator`.
*   **Resolution:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Å—Ç–∞–Ω—Å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É.

### 2. Session Sync (Cleaner)
*   **Trigger:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –ª—é–±–æ–π –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω.
*   **Logic:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `ac:{char_id}` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ "–∑–∞–≤–∏—Å—à–∏—Ö" ID —Å–µ—Å—Å–∏–π –∏–∑ *–¥—Ä—É–≥–∏—Ö* –¥–æ–º–µ–Ω–æ–≤.
*   **Action:** –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ —Å–∏—Ä–æ—Ç–∞ (Orphan Session) -> –≤—ã–∑—ã–≤–∞–µ—Ç `backup_session()` —É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## üîó Current Code
*   `apps/game_core/system/dispatcher/system_dispatcher.py`
*   `apps/game_core/system/dispatcher/session_sync.py` (Proposed)
