# ==============================================================================
# –ú–û–ô –ö–û–ù–§–ò–ì –ü–†–û–ï–ö–¢–ê (PYPROJECT.TOML)
# –ó–¥–µ—Å—å —è —Ö—Ä–∞–Ω—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –Ω–µ –ø–ª–æ–¥–∏—Ç—å –∫—É—á—É –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª–æ–≤.
# ==============================================================================

# --- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ ---
# (–ü–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —è –∑–∞—Ö–æ—á—É –∑–∞–ø–∞–∫–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –¥–ª—è Poetry/PDM –≤ –±—É–¥—É—â–µ–º)
[project]
name = "telegram-bot-rpg"
version = "0.1.0"
description = "–ú–æ—è –∫—Ä—É—Ç–∞—è RPG –≤ –¢–µ–ª–µ–≥—Ä–∞–º–µ"
requires-python = ">=3.11"
readme = "README.md"

# ==============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –õ–ò–ù–¢–ï–†–ê –ò –§–û–†–ú–ê–¢–¢–ï–†–ê (RUFF)
# –ú–æ–π –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∫–æ–¥–∞. –ó–∞–º–µ–Ω—è–µ—Ç Black, Flake8 –∏ Isort.
# ==============================================================================
[tool.ruff]
# –£–∫–∞–∑—ã–≤–∞—é —è–≤–Ω–æ –≤–µ—Ä—Å–∏—é –ø–∏—Ç–æ–Ω–∞, —á—Ç–æ–±—ã Ruff –ø–æ–Ω–∏–º–∞–ª –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ (match/case –∏ —Ç.–¥.)
target-version = "py311"

# –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏. –°—Ç–∞–≤–ª—é 120, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –º–µ–Ω—è —à–∏—Ä–æ–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä
# –∏ —è –Ω–µ –ª—é–±–ª—é, –∫–æ–≥–¥–∞ –∫–æ–¥ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è.
line-length = 120

# –ö–∞–∫–∏–µ –ø–∞–ø–∫–∏ —è –∏–≥–Ω–æ—Ä–∏—Ä—É—é (—Ç–∞–º —á—É–∂–æ–π –∫–æ–¥ –∏–ª–∏ –º—É—Å–æ—Ä)
exclude = [
    ".venv",
    "venv",
    "__pycache__",
    ".git",
    "dist",
    "build",
    "migrations",
]

[tool.ruff.lint]
# --- –ú–û–ò –ü–†–ê–í–ò–õ–ê –ü–†–û–í–ï–†–ö–ò ---
# E, F - –ë–∞–∑–æ–≤—ã–µ –æ—à–∏–±–∫–∏ –ø–∏—Ç–æ–Ω–∞ (–∫–∞–∫ –≤ Flake8)
# I    - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ (–∫–∞–∫ –≤ isort) ‚Äî —á—Ç–æ–±—ã –∫—Ä–∞—Å–æ—Ç–∞ –±—ã–ª–∞ –≤ —à–∞–ø–∫–µ —Ñ–∞–π–ª–∞
# N    - –ù–µ–π–º–∏–Ω–≥ (PEP 8 Naming) ‚Äî —á—Ç–æ–±—ã —è –Ω–µ –Ω–∞–∑—ã–≤–∞–ª –∫–ª–∞—Å—Å—ã —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã
# UP   - PyUpgrade ‚Äî –ø–æ–¥—Å–∫–∞–∂–µ—Ç, –µ—Å–ª–∏ —è –∏—Å–ø–æ–ª—å–∑—É—é —Å—Ç–∞—Ä—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –Ω–æ–≤—ã–π
# B    - Bugbear ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –±–∞–≥–∏ –∏ –ø–ª–æ—Ö–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
# SIM  - Simplify ‚Äî –ø–æ–¥—Å–∫–∞–∂–µ—Ç, –≥–¥–µ –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–±—Ä–∞—Ç—å –ª–∏—à–Ω–∏–π else)
# BLE  - Blind Except ‚Äî –∑–∞–ø—Ä–µ—Ç–∏—Ç –º–Ω–µ –ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ 'except:', –∑–∞—Å—Ç–∞–≤–∏—Ç –ª–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
# A    - Builtins ‚Äî —á—Ç–æ–±—ã —è —Å–ª—É—á–∞–π–Ω–æ –Ω–µ –Ω–∞–∑–≤–∞–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é 'list' –∏–ª–∏ 'id'
select = ["E", "F", "I", "N", "UP", "B", "SIM", "BLE", "A"]

# –ß—Ç–æ —è —Ä–∞–∑—Ä–µ—à–∞—é –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–æ —Å–ª–∏—à–∫–æ–º –¥—É—à–Ω–æ–µ)
ignore = [
    "B008",
    "E501",
]

# –†–∞–∑—Ä–µ—à–∞—é Ruff –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å—ë, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç
fixable = ["ALL"]
unfixable = []

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ (Isort) ---
[tool.ruff.lint.isort]
# –Ø –≥–æ–≤–æ—Ä—é Ruff, —á—Ç–æ –ø–∞–ø–∫–∏ 'app' –∏ 'database' ‚Äî —ç—Ç–æ –ú–û–ô –∫–æ–¥ (First Party).
# –û–Ω –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—è—Ç—å –∏—Ö –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π. –ö—Ä–∞—Å–æ—Ç–∞.
known-first-party = ["app", "database"]
section-order = ["future", "standard-library", "third-party", "first-party", "local-folder"]

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞ (–∑–∞–º–µ–Ω–∞ Black) ---
[tool.ruff.format]
# –ò—Å–ø–æ–ª—å–∑—É—é –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –≤–µ–∑–¥–µ. –¢–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–µ–µ.
quote-style = "double"
# –û—Ç—Å—Ç—É–ø—ã ‚Äî –ø—Ä–æ–±–µ–ª–∞–º–∏ (—Ç–∞–±—ã ‚Äî –∑–ª–æ).
indent-style = "space"
# –ù–µ –º–µ–Ω—è—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ç—Ä–æ–∫ (–ø—É—Å—Ç—å git —Å–∞–º —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è —Å CRLF/LF).
line-ending = "auto"


# ==============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –ü–†–û–í–ï–†–ö–ò –¢–ò–ü–û–í (MYPY)
# –ú–æ–π —Å—Ç—Ä–æ–≥–∏–π –Ω–∞–¥–∑–∏—Ä–∞—Ç–µ–ª—å. –ù–µ –¥–∞–µ—Ç –º–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç—É–¥–∞, –≥–¥–µ –Ω—É–∂–Ω—ã —á–∏—Å–ª–∞.
# ==============================================================================
[tool.mypy]
# –£–±—Ä–∞–ª "tests" –∏–∑ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
files = ["apps", "main.py", "scripts", "tools"]
# –û—Ç–∫–ª—é—á–∞–µ–º —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º (–ø–æ–∫–∞ —á—Ç–æ)
strict = false

# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ —É –±–∏–±–ª–∏–æ—Ç–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, google-genai –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å —Å—Ç–∞–±–æ–≤)
ignore_missing_imports = true

# –†–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø–∞ Any (–∏–Ω–∞—á–µ –æ–Ω —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π —á–∏—Ö –±–µ–∑ —Ç–∏–ø–∞)
disallow_any_generics = false

# –ù–µ —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ç–∏–ø–æ–≤ —É –í–°–ï–• —Ñ—É–Ω–∫—Ü–∏–π (—É–±–µ—Ä–µ—Ç 50% –æ—à–∏–±–æ–∫ [no-untyped-def])
disallow_untyped_defs = false

# –ù–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–π, –¥–∞–∂–µ –µ—Å–ª–∏ —É –Ω–∏—Ö –Ω–µ—Ç —Ç–∏–ø–æ–≤ (–≤–∞–∂–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–∞–≥–æ–≤)
check_untyped_defs = true

# –†–∞–∑—Ä–µ—à–∏—Ç—å –Ω–µ—è–≤–Ω—ã–π Optional (—É–±–µ—Ä–µ—Ç –æ—à–∏–±–∫–∏, –≥–¥–µ —Ç—ã –ø–µ—Ä–µ–¥–∞–µ—à—å None, –Ω–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª Optional)
no_implicit_optional = false

# –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–¥—ã –æ—à–∏–±–æ–∫ (—á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –∏—Ö –≥—É–≥–ª–∏—Ç—å)
show_error_codes = true


# ==============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –¢–ï–°–¢–û–í (PYTEST)
# –ù–∞ –±—É–¥—É—â–µ–µ, –∫–æ–≥–¥–∞ –Ω–∞—á–Ω—É –ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã.
# ==============================================================================
[tool.pytest.ini_options]
testpaths = ["tests"]
pythonpath = "."
asyncio_mode = "auto"
# üëá –≠–¢–ê –°–¢–†–û–ö–ê –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê üëá
asyncio_default_fixture_loop_scope = "session"
asyncio_default_test_loop_scope = "class"
addopts = "-v"
