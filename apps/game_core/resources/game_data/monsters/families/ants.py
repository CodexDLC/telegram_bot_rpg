"""
СЕМЕЙСТВО: МУРАВЬИ / РОЙ (Рой, численность, контроль)
=====================================================
Логика: рой -> численность -> контроль пространства
"""

from ..monster_structs import MonsterFamily

ANTS_FAMILY: MonsterFamily = {
    "id": "ant_colony",
    "archetype": "beast",
    "organization_type": "swarm",
    "default_tags": ["beast", "insect", "ant", "swarm"],
    "hierarchy": {
        "minions": ["tunnel_ant", "cave_beetle", "swarm_larva", "scuttler"],
        "veterans": ["venom_ant", "cave_spiderling", "stinger_beetle", "shadow_mite"],
        "elites": ["hive_guard", "web_spinner", "venom_queens_guard", "stalker_beetle"],
        "boss": ["hive_queen", "broodmother_spider", "ancient_beetle", "swarm_lord"],
    },
    "variants": {
        # --- 1. Мелкие (Minions) ---
        "tunnel_ant": {
            "id": "tunnel_ant",
            "role": "minion",
            "cost": 20,
            "min_tier": 1,
            "max_tier": 4,
            "narrative_hint": "A large ant with powerful mandibles for digging. Moves in a line.",
            "extra_tags": ["worker", "digger"],
            "base_stats": {
                "strength": 8,
                "agility": 6,
                "endurance": 8,
                "intelligence": 1,
                "wisdom": 1,
                "men": 5,
                "perception": 6,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["attack_basic"],
        },
        "cave_beetle": {
            "id": "cave_beetle",
            "role": "minion",
            "cost": 20,
            "min_tier": 1,
            "max_tier": 4,
            "narrative_hint": "A hard-shelled beetle that scuttles across the floor.",
            "extra_tags": ["beetle", "armored"],
            "base_stats": {
                "strength": 6,
                "agility": 4,
                "endurance": 12,
                "intelligence": 1,
                "wisdom": 1,
                "men": 5,
                "perception": 4,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["buff_defense", "attack_heavy"],
        },
        "swarm_larva": {
            "id": "swarm_larva",
            "role": "minion",
            "cost": 20,
            "min_tier": 1,
            "max_tier": 4,
            "narrative_hint": "A soft, wriggling larva. Explodes into acid when killed.",
            "extra_tags": ["larva", "explosive"],
            "base_stats": {
                "strength": 2,
                "agility": 2,
                "endurance": 4,
                "intelligence": 1,
                "wisdom": 1,
                "men": 5,
                "perception": 2,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["debuff_armor_break"],
        },
        "scuttler": {
            "id": "scuttler",
            "role": "minion",
            "cost": 20,
            "min_tier": 1,
            "max_tier": 4,
            "narrative_hint": "A fast, multi-legged insect that distracts enemies.",
            "extra_tags": ["fast", "distraction"],
            "base_stats": {
                "strength": 4,
                "agility": 14,
                "endurance": 4,
                "intelligence": 1,
                "wisdom": 1,
                "men": 5,
                "perception": 10,
                "charisma": 1,
                "luck": 8,
            },
            "fixed_loadout": {},
            "skills": ["debuff_weaken"],
        },
        # --- 2. Охотники / Бойцы (Veterans) ---
        "venom_ant": {
            "id": "venom_ant",
            "role": "veteran",
            "cost": 50,
            "min_tier": 2,
            "max_tier": 5,
            "narrative_hint": "An ant with a glowing green abdomen. Spits acid.",
            "extra_tags": ["venom", "acid", "ranged"],
            "base_stats": {
                "strength": 6,
                "agility": 10,
                "endurance": 6,
                "intelligence": 2,
                "wisdom": 2,
                "men": 5,
                "perception": 8,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["debuff_armor_break", "debuff_poison"],
        },
        "cave_spiderling": {
            "id": "cave_spiderling",
            "role": "veteran",
            "cost": 50,
            "min_tier": 2,
            "max_tier": 5,
            "narrative_hint": "A small spider living symbiotically with the ants.",
            "extra_tags": ["spider", "web"],
            "base_stats": {
                "strength": 4,
                "agility": 12,
                "endurance": 4,
                "intelligence": 2,
                "wisdom": 2,
                "men": 5,
                "perception": 10,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["debuff_slow", "attack_basic"],
        },
        "stinger_beetle": {
            "id": "stinger_beetle",
            "role": "veteran",
            "cost": 50,
            "min_tier": 2,
            "max_tier": 5,
            "narrative_hint": "A beetle with a sharp stinger on its tail.",
            "extra_tags": ["beetle", "piercing"],
            "base_stats": {
                "strength": 8,
                "agility": 8,
                "endurance": 10,
                "intelligence": 1,
                "wisdom": 1,
                "men": 5,
                "perception": 6,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["attack_pierce", "attack_pierce"],
        },
        "shadow_mite": {
            "id": "shadow_mite",
            "role": "veteran",
            "cost": 50,
            "min_tier": 2,
            "max_tier": 5,
            "narrative_hint": "A tiny, dark insect that drains energy.",
            "extra_tags": ["mite", "shadow", "lifesteal"],
            "base_stats": {
                "strength": 2,
                "agility": 16,
                "endurance": 2,
                "intelligence": 1,
                "wisdom": 1,
                "men": 5,
                "perception": 12,
                "charisma": 1,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["attack_lifesteal", "stealth"],
        },
        # --- 3. Элита (Elites) ---
        "hive_guard": {
            "id": "hive_guard",
            "role": "elite",
            "cost": 150,
            "min_tier": 3,
            "max_tier": 6,
            "narrative_hint": "A massive ant soldier with reinforced chitin armor.",
            "extra_tags": ["guardian", "heavy_armor"],
            "base_stats": {
                "strength": 16,
                "agility": 6,
                "endurance": 18,
                "intelligence": 3,
                "wisdom": 3,
                "men": 10,
                "perception": 8,
                "charisma": 2,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["buff_defense", "attack_heavy", "buff_defense"],
        },
        "web_spinner": {
            "id": "web_spinner",
            "role": "elite",
            "cost": 150,
            "min_tier": 3,
            "max_tier": 6,
            "narrative_hint": "A large spider that weaves complex webs to trap intruders.",
            "extra_tags": ["spider", "trapper"],
            "base_stats": {
                "strength": 10,
                "agility": 14,
                "endurance": 12,
                "intelligence": 5,
                "wisdom": 5,
                "men": 10,
                "perception": 14,
                "charisma": 2,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["debuff_slow", "debuff_stun", "special_trap"],
        },
        "venom_queens_guard": {
            "id": "venom_queens_guard",
            "role": "elite",
            "cost": 150,
            "min_tier": 3,
            "max_tier": 6,
            "narrative_hint": "An elite ant warrior with deadly venom.",
            "extra_tags": ["elite_guard", "venom"],
            "base_stats": {
                "strength": 14,
                "agility": 12,
                "endurance": 14,
                "intelligence": 4,
                "wisdom": 4,
                "men": 10,
                "perception": 10,
                "charisma": 3,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["debuff_poison", "buff_rage", "buff_defense"],
        },
        "stalker_beetle": {
            "id": "stalker_beetle",
            "role": "elite",
            "cost": 150,
            "min_tier": 3,
            "max_tier": 6,
            "narrative_hint": "A predatory beetle that hunts in the dark.",
            "extra_tags": ["beetle", "predator", "stealth"],
            "base_stats": {
                "strength": 12,
                "agility": 14,
                "endurance": 12,
                "intelligence": 4,
                "wisdom": 4,
                "men": 8,
                "perception": 16,
                "charisma": 1,
                "luck": 8,
            },
            "fixed_loadout": {},
            "skills": ["attack_heavy", "debuff_bleed", "buff_evasion"],
        },
        # --- 4. Короли / Боссы (Bosses) ---
        "hive_queen": {
            "id": "hive_queen",
            "role": "boss",
            "cost": 600,
            "min_tier": 4,
            "max_tier": 7,
            "narrative_hint": "The bloated, immobile mother of the colony. Commands the swarm.",
            "extra_tags": ["queen", "leader", "summoner"],
            "base_stats": {
                "strength": 20,
                "agility": 2,
                "endurance": 40,
                "intelligence": 15,
                "wisdom": 15,
                "men": 30,
                "perception": 20,
                "charisma": 20,
                "luck": 10,
            },
            "fixed_loadout": {},
            "skills": ["summon_minion", "buff_rage", "debuff_armor_break", "debuff_stun"],
        },
        "broodmother_spider": {
            "id": "broodmother_spider",
            "role": "boss",
            "cost": 600,
            "min_tier": 4,
            "max_tier": 7,
            "narrative_hint": "A colossal spider, mother of thousands.",
            "extra_tags": ["spider", "broodmother"],
            "base_stats": {
                "strength": 25,
                "agility": 10,
                "endurance": 30,
                "intelligence": 12,
                "wisdom": 12,
                "men": 20,
                "perception": 18,
                "charisma": 10,
                "luck": 10,
            },
            "fixed_loadout": {},
            "skills": ["debuff_slow", "attack_execute", "debuff_poison", "summon_minion"],
        },
        "ancient_beetle": {
            "id": "ancient_beetle",
            "role": "boss",
            "cost": 600,
            "min_tier": 4,
            "max_tier": 7,
            "narrative_hint": "A beetle as large as a tank, with armor that deflects steel.",
            "extra_tags": ["beetle", "ancient", "heavy_armor"],
            "base_stats": {
                "strength": 35,
                "agility": 5,
                "endurance": 50,
                "intelligence": 8,
                "wisdom": 8,
                "men": 20,
                "perception": 10,
                "charisma": 5,
                "luck": 5,
            },
            "fixed_loadout": {},
            "skills": ["attack_aoe", "buff_defense", "attack_aoe"],
        },
        "swarm_lord": {
            "id": "swarm_lord",
            "role": "boss",
            "cost": 600,
            "min_tier": 4,
            "max_tier": 7,
            "narrative_hint": "A humanoid figure composed entirely of insects. The hive mind manifest.",
            "extra_tags": ["lord", "hive_mind"],
            "base_stats": {
                "strength": 20,
                "agility": 20,
                "endurance": 25,
                "intelligence": 25,
                "wisdom": 25,
                "men": 50,
                "perception": 30,
                "charisma": 30,
                "luck": 15,
            },
            "fixed_loadout": {},
            "skills": ["buff_evasion", "attack_aoe", "attack_lifesteal", "summon_minion"],
        },
    },
}
